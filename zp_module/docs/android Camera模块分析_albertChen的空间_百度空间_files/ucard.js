window.baidu=window.baidu||{version:"1-0-0",emptyFn:function(){}};baidu.ui=baidu.ui||{};baidu.isString=function(b){return(typeof b=="object"&&b&&b.constructor==String)||typeof b=="string"};baidu.G=function(){for(var b=[],c=arguments.length-1;c>-1;c--){var d=arguments[c];b[c]=null;if(typeof d=="object"&&d&&d.dom){b[c]=d.dom}else{if((typeof d=="object"&&d&&d.tagName)||d==window||d==document){b[c]=d}else{if(baidu.isString(d)&&(d=document.getElementById(d))){b[c]=d}}}}return b.length<2?b[0]:b};baidu.trim=function(b,a){if(a=="left"){return b.replace(/(^[\s\t\xa0\u3000]+)/g,"")}if(a=="right"){return b.replace(new RegExp("[\\u3000\\xa0\\s\\t]+\x24","g"),"")}return b.replace(new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g"),"")};baidu.addClass=function(d,c){if(!(d=baidu.G(d))){return null}c=baidu.trim(c);if(!new RegExp("(^| )"+c.replace(/(\W)/g,"\\\x241")+"( |\x24)").test(d.className)){d.className=baidu.trim(d.className.split(/\s+/).concat(c).join(" "))}};baidu.ac=baidu.addClass;baidu.body=function(){var r=0,k=0,n=0,p=0,q=0,d=0;var m=window,o=document,l=o.documentElement;r=l.clientWidth||o.body.clientWidth;k=m.innerHeight||l.clientHeight||o.body.clientHeight;p=o.body.scrollTop||l.scrollTop;n=o.body.scrollLeft||l.scrollLeft;q=Math.max(o.body.scrollWidth,l.scrollWidth||0);d=Math.max(o.body.scrollHeight,l.scrollHeight||0,k);return{scrollTop:p,scrollLeft:n,documentWidth:q,documentHeight:d,viewWidth:r,viewHeight:k}};baidu.regEscape=function(a){return a.replace(new RegExp("([.*+?^=!:\x24{}()|[]/\\])","g"),"\\\x241")};baidu.format=function(o,m){if(arguments.length>1){var r=baidu.format,p=new RegExp("([.*+?^=!:\x24{}()|[\\]\\/\\\\])","g"),q=(r.left_delimiter||"{").replace(p,"\\\x241"),l=(r.right_delimiter||"}").replace(p,"\\\x241");var t=r._r1||(r._r1=new RegExp("#"+q+"(.+?)"+l,"g")),k=r._r2||(r._r2=new RegExp("#"+q+"(\\d+)"+l,"g"));if(typeof(m)=="object"&&!baidu.isString(m)){return o.replace(t,function(a,b){var c=m[b];if(typeof c=="function"){c=c(b)}return typeof(c)=="undefined"?"":c})}else{if(typeof(m)!="undefined"){var n=Array.prototype.slice.call(arguments,1);var s=n.length;return o.replace(k,function(b,a){a=parseInt(a,10);return(a>=s)?b:n[a]})}}}return o};baidu.format.delimiter=function(e,d){var f=baidu.format;f.left_delimiter=e||"{";f.right_delimiter=d||e||"}";f._r1=f._r2=null};baidu.on=function(p,j,k,i){if(!(p=baidu.G(p))||typeof k!="function"){return p}j=j.replace(/^on/i,"").toLowerCase();function n(a){return a||window.event}var l=function(a){k.call(l.src,n(a))};l.src=p;var m=baidu.on._listeners;var o=[p,j,k,l];m[m.length]=o;if(p.attachEvent){p.attachEvent("on"+j,l)}else{if(p.addEventListener){p.addEventListener(j,l,false)}}return p};baidu.on._listeners=[];baidu.un=function(i,q,m){if(!(i=this.G(i))||typeof m!="function"){return i}q=q.replace(/^on/i,"").toLowerCase();var p=baidu.on._listeners;if(!m){var o;for(var t=0,r=p.length;t<r;t++){o=p[t];if(o&&o[0]===i&&o[1]===q){baidu.un(i,q,o[2])}}return i}function l(f,a,d){for(var e=0,b=p.length;e<b;++e){var c=p[e];if(c&&c[2]===m&&c[0]===i&&c[1]===q){return e}}return -1}var s=l(i,q,m);var n=null;if(s>=0){n=p[s]}else{return i}if(i.detachEvent){i.detachEvent("on"+q,n[3])}else{if(i.removeEventListener){i.removeEventListener(q,n[3],false)}}delete n[3];delete n[2];p.splice(s,1);return i};baidu.getCurrentStyle=function(i,g){var j=null;if(!(i=baidu.G(i))){return null}if(j=i.style[g]){return j}else{if(i.currentStyle){j=i.currentStyle[g]}else{var f=i.nodeType==9?i:i.ownerDocument||i.document;if(f.defaultView&&f.defaultView.getComputedStyle){var h=f.defaultView.getComputedStyle(i,"");if(h){j=h[g]}}}}return j};baidu.each=function(b,d){if(typeof d!="function"){return b}if(b){var c;if(b.length===undefined){for(var e in b){if(e in {}){continue}c=d.call(b[e],b[e],e);if(c=="break"){break}}}else{for(var f=0,a=b.length;f<a;f++){c=d.call(b[f],b[f],f);if(c=="break"){break}}}}return b};baidu.browser=baidu.browser||{};(function(){var a=navigator.userAgent;baidu.firefox=baidu.browser.firefox=/firefox\/(\d+\.\d)/i.test(a)?parseFloat(RegExp["\x241"]):0;baidu.ie=baidu.browser.ie=/msie (\d+\.\d)/i.test(a)?parseFloat(RegExp["\x241"]):0;baidu.opera=baidu.browser.opera=/opera\/(\d+\.\d)/i.test(a)?parseFloat(RegExp["\x241"]):0;baidu.safari=baidu.browser.safari=(/(\d+\.\d)(\.\d)?\s+safari/i.test(a)&&!/chrome/i.test(a))?parseFloat(RegExp["\x241"]):0;try{baidu.browser.maxthon=/(\d+\.\d)/.test(external.max_version)?parseFloat(RegExp["\x241"]):0}catch(b){baidu.browser.maxthon=0}baidu.maxthon=baidu.browser.maxthon;baidu.isGecko=baidu.browser.isGecko=/gecko/i.test(a)&&!/like gecko/i.test(a);baidu.isStrict=baidu.browser.isStrict=document.compatMode=="CSS1Compat";baidu.isWebkit=baidu.browser.isWebkit=/webkit/i.test(a)})();baidu.dom=baidu.dom||{};baidu.isElement=function(a){if(a===undefined||a===null){return false}return a&&a.nodeName&&a.nodeType==1};baidu.isDocument=function(a){if(a===undefined||a===null){return false}return a&&a.nodeType==9};baidu.dom.getDocument=function(a){if(baidu.isElement(a)||baidu.isDocument(a)){return a.nodeType==9?a:a.ownerDocument||a.document}else{throw new Error("[baidu.dom.getDocument] param must be Element or Document")}};baidu.isElement=function(b){return b&&b.nodeType==1};baidu.dom.getPosition=function(l){l=baidu.G(l);if(!baidu.isElement(l)){throw new Error("[baidu.dom.getPosition] param must be Element")}var i=baidu.dom.getDocument(l);var j=baidu.isGecko>0&&i.getBoxObjectFor&&baidu.getCurrentStyle(l,"position")=="absolute"&&(l.style.top===""||l.style.left==="");var p={left:0,top:0};var n=(baidu.ie&&!baidu.isStrict)?i.body:i.documentElement;if(l==n){return p}var m=null;var k;if(l.getBoundingClientRect){k=l.getBoundingClientRect();p.left=k.left+Math.max(i.documentElement.scrollLeft,i.body.scrollLeft);p.top=k.top+Math.max(i.documentElement.scrollTop,i.body.scrollTop);p.left-=i.documentElement.clientLeft;p.top-=i.documentElement.clientTop;if(baidu.ie&&!baidu.isStrict){p.left-=2;p.top-=2}}else{if(i.getBoxObjectFor&&!j){k=i.getBoxObjectFor(l);var o=i.getBoxObjectFor(n);p.left=k.screenX-o.screenX;p.top=k.screenY-o.screenY}else{m=l;do{p.left+=m.offsetLeft;p.top+=m.offsetTop;if(baidu.isWebkit>0&&baidu.getCurrentStyle(m,"position")=="fixed"){p.left+=i.body.scrollLeft;p.top+=i.body.scrollTop;break}m=m.offsetParent}while(m&&m!=l);if(baidu.opera>0||(baidu.isWebkit>0&&baidu.getCurrentStyle(l,"position")=="absolute")){p.top-=i.body.offsetTop}m=l.offsetParent;while(m&&m!=i.body){p.left-=m.scrollLeft;if(!baidu.opera||m.tagName!="TR"){p.top-=m.scrollTop}m=m.offsetParent}}}return p};baidu.object=baidu.object||{};baidu.object.clone=function(g){var h=null;if(g instanceof Array){h=[];for(var f=0,i=g.length;f<i;f++){h[f]=baidu.object.clone(g[f])}}else{if((g instanceof String)||(g instanceof Number)||(g instanceof Boolean)){return g}else{if(typeof(g)=="object"){h={};for(var j in g){if(!g.hasOwnProperty(j)){continue}h[j]=baidu.object.clone(g[j])}}else{return g}}}return h};baidu.extend=function(e,d){if(e&&d&&typeof(d)=="object"){for(var f in d){e[f]=d[f]}}return e};baidu.encodeHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};baidu.ie=/msie (\d+\.\d)/i.test(navigator.userAgent)?parseFloat(RegExp["\x241"]):0;baidu.setAttr=function(i,f,h){var j={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder"};if(i=baidu.G(i)){if(baidu.isString(f)){if(f=="style"){i.style.cssText=h}else{if(f=="class"){i.className=h}else{if(f=="for"){i.htmlFor=h}else{if(f in j){i.setAttribute(j[f],h)}else{i[f]=h}}}}}else{for(var g in f){if(typeof f[g]!="function"){baidu.setAttr(i,g,f[g])}}}}};baidu.dom.setProperties=function(b,a){b=baidu.G(b);baidu.each(a,function(d,c){baidu.setAttr(b,c,d)})};baidu.dom.create=function(f,d){f=String(f);if(f==""){throw new Error("[baidu.dom.create] param tagName can not be empty")}if(baidu.ie&&d&&d.name){f="<"+f+' name="'+baidu.encodeHTML(d.name)+'">'}var e=document.createElement(f);if(d){baidu.dom.setProperties(e,d)}return e};baidu.sio=baidu.sio||{};baidu.url=baidu.url||{};baidu.string=baidu.string||{};baidu.string.escapeReg=function(a){return String(a).replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\\x241")};baidu.url.parseQuery=function(t,p){if(p){var r=new RegExp("(^|&|\\?|#)"+baidu.string.escapeReg(p)+"=([^&]*)(&|\x24)","");var s=t.match(r);if(s){return s[2]}}else{if(t){t=t.substr(t.indexOf("?")+1,t.length);var v=t.split("&");var u={},b=[],i,o,q;for(var a=0;a<v.length;a++){i=v[a].split("=");o=i[0],q=i[1];if(o===""){continue}if(typeof u[o]=="undefined"){u[o]=q}else{if(baidu.isString(u[o])){continue}else{u[o].push(q)}}}return u}}return null};baidu.sio.get=function(g,d,a){if(!g||!baidu.isString(g)){return null}var c=baidu.url.parseQuery(g,"callback");var b=document.createElement("SCRIPT");if(!c){var f=false;b.onreadystatechange=b.onload=function(){if(f){return false}if(typeof b.readyState==="undefined"||b.readyState=="loaded"||b.readyState=="complete"){f=true;try{d()}finally{if(b&&b.parentNode){b.parentNode.removeChild(b)}b.onreadystatechange=null;b.onload=null;b=null}}}}else{var e;if(a){e=a(g)}else{e="CB"+Math.floor(Math.random()*2147483648).toString(36)}g=g.replace(/(&|\?)callback=([^&]*)/,"\x241callback="+e);window[e]=function(){try{var i=(d||window[c]);i.apply(null,arguments)}finally{if(b&&b.parentNode){b.parentNode.removeChild(b)}b=null;window[e]=null}}}var h=document.getElementsByTagName("HEAD")[0];h.insertBefore(b,h.firstChild);b.type="text/javascript";b.src=g};baidu.ui.ucard=(function(){var Q=this,c=false,e=false,s={},m={},M=0,B="",p="",T=false,t=0,r=0,S=0,K=0,I=0,o=false,b=false;var g="http://apps.hi.baidu.com/nameplate/showinfo?getuinfo=1&getfrdnum=1&getspinfo=1&getevent=1&asyn=1&callback=xxx";var F="901";var l={cp:"tangram_ucard",onloading:function(){},onafterloading:function(){},onhide:function(){},pData:function(){return{l:"",r:""}},pUrl:"",aData:false,pinfo:{lid:0},delay:{show:600,loading:600,hide:600}};var x={};function f(W){baidu.extend(l,W)}function L(Y,W,Z,X){loading=0;if(B){if(B==Z&&Y==T){return null}U(0)}T=baidu.G(Y);p=Z;t=W.clientX;r=W.clientY;x=baidu.object.clone(l);baidu.extend(x,X||{});n();if(!v()){u()}z();I=setTimeout(q,x.delay.show)}function q(){loading=1;if(x.pinfo.url_append){if(baidu.isString(x.pUrl)){x.pUrl+=x.pinfo.url_append}else{for(var W=0,X=x.pUrl.length;W<X;W++){x.pUrl[W]+=x.pinfo.url_append}}}B=p;p="";x.sUrl=g+"&portrait="+encodeURIComponent(B);i();z();S=setTimeout(D,x.delay.loading);x.onloading(T);R(t,r)}function d(){c.style.visibility=e.style.visibility="hidden";c.style.display=e.style.display="block";var ab=parseFloat(baidu.getCurrentStyle(c,"marginTop"))||0;var ac=parseFloat(baidu.getCurrentStyle(c,"marginRight"))||0;var Y=parseFloat(baidu.getCurrentStyle(c,"marginBottom"))||0;var ad=parseFloat(baidu.getCurrentStyle(c,"marginLeft"))||0;var W=baidu.body(),Z=c.offsetWidth,ae=c.offsetHeight,X,af;if(W.viewWidth-t<=Z){X=t-(Z+ad)}else{X=t-ad}if(r<=ae){af=r-ab}else{af=r-(ae+ab)}X+=W.scrollLeft;af+=W.scrollTop;c.style.left=X+"px";c.style.top=af+"px";e.style.top=af+ab+"px";e.style.left=X+ad+"px";e.style.width=c.offsetWidth+"px";e.style.height=c.offsetHeight+"px";c.style.visibility=e.style.visibility="visible"}function a(W){if(W&&W.stopPropagation){W.stopPropagation()}else{window.event.cancelBubble=true}}var J=function(){if(loading){U(x.delay.hide)}else{U(0)}};var aa=function(){clearTimeout(K)};var P=function(W){W=window.event||W;t=W.clientX;r=W.clientY};var H=function(W){if(!(W.button!=0&&!baidu.browser.ie||baidu.browser.ie&&W.button!=1)){U(0)}};var j=function(W){if(!(W.button!=0&&!baidu.browser.ie||baidu.browser.ie&&W.button!=1)){a(W)}};function n(){baidu.on(T,"mouseout",J);baidu.on(T,"mouseover",aa);baidu.on(T,"mousemove",P);baidu.on(document,"mousedown",H)}function k(){z();baidu.un(T,"mouseout",J);baidu.un(T,"mouseover",aa);baidu.un(T,"mousemove",P);baidu.un(document,"mousedown",H)}function R(){V(x.sUrl,1);if(!x.aData){if(!x.pUrl){return}if(baidu.isString(x.pUrl)){V(x.pUrl)}else{var W=x.pUrl.length;for(var X=0;X<W;X++){V(x.pUrl[X])}}}b=false}function V(X,Y){s[X]=1;if(typeof m[X]!="undefined"){C(X)}else{var W=Y?function(){return"c"+B}:false;baidu.sio.get(X,function(Z){m[X]=Z;C(X)},W)}}function C(W){if(!s[W]){return null}s[W]=0;for(var X in s){if(s[X]==1){return null}}w()}function w(){if(b==true){return}b=true;s={};var W="";if(!x.aData){W=E(O(m[x.sUrl]),x.pData(y(),m[x.sUrl],o))}else{W=x.aData(m[x.sUrl])}N(W);x.onafterloading(T);D()}function y(){if(baidu.isString(x.pUrl)){return m[x.pUrl]}else{var Y=[],X=x.pUrl.length;for(var W=0;W<X;W++){Y[W]=m[x.pUrl[W]]}return Y}}function O(ag){var Y=ag;Y.tgr_cp=x.cp;Y.tgr_shp="http://hi.baidu.com/sys/checkuser/"+Y.uname+"/3";Y.tgr_sapl="http://hi.baidu.com/sys/checkuser/"+Y.uname+"/blog";Y.tgr_sppl="http://hi.baidu.com/sys/checkuser/"+Y.uname+"/album";var ae=baidu.format("<div class='#{tgr_cp}_img'><a href='#{tgr_shp}' target='_blank'><img src='#{uface}' /></a></div><div class='#{tgr_cp}_uid'><a href='#{tgr_shp}' target='_blank'>#{uname}</a></div>",Y);var Z=[],ab="",ad="",X;if(Y.blog){Z[Z.length]=baidu.format("\u7a7a\u95f4\u6587\u7ae0\uff1a<a href='#{tgr_sapl}' target='_blank'>#{blog}</a>",Y)}if(Y.photo){var W="";if(!Y.blog){W="\u7a7a\u95f4"}Z[Z.length]=baidu.format(W+"\u7167\u7247\uff1a<a href='#{tgr_sppl}' target='_blank'>#{photo}</a>",Y)}if(Z.length){Z="<div class='"+x.cp+"_scount'>"+Z.join("\uff0c",Z)+"</div>"}o=true;if(Y.newphoto.length||Y.newblog.length){ab=baidu.format("<div class='#{tgr_cp}_new'><span>\u6700\u65b0\u66f4\u65b0\uff1a</span>",Y)}if((X=Y.newphoto.length)>0){ad=baidu.format("<div class='#{tgr_cp}_newc #{tgr_cp}_newi'>",Y);for(var af=0;af<X;af++){ad+="<span><a href='"+Y.newphoto[af]["h"]+"' target='_blank'><img src='"+Y.newphoto[af]["u"]+"' width=28 height=28 /></a></span>"}ad+="</div>"}if((X=Y.newblog.length)>0){ad=baidu.format("<div class='#{tgr_cp}_newc #{tgr_cp}_newa'><ul>",Y);for(var af=0;af<X;af++){ad+="<li><a href='"+Y.newblog[af]["h"]+"' target='_blank'>"+Y.newblog[af]["t"]+"</a></li>"}ad+="</ul></div>"}if(!X&&typeof Y.newblog.t=="undefined"){o=false}var ac=Z+ab+ad;return{l:ae,r:ac}}function E(W,Z){var X="<div class='"+x.cp+"_lt'>"+W.l+"</div>";var ab="<div class='"+x.cp+"_lb'>"+Z.l+"</div>";var Y="<div class='"+x.cp+"_rt'>"+Z.r+"</div>";var ac="<div class='"+x.cp+"_rb'>"+W.r+"</div>";return"<div class='"+x.cp+"_l'>"+X+ab+"</div><div class='"+x.cp+"_r'>"+Y+ac+"</div>"}function N(W){c.innerHTML=W;if(!x.aData){h(c)}}function h(W){var Y="";if(W.nodeName=="A"&&!W.tangram_ucard_stats){baidu.on(W,"mousedown",function(){var Z=new Image();window["tgr_"+(new Date()).getTime()]=Z;Z.src="http://nsclick.baidu.com/v.gif?pid="+x.pinfo.lid+"&url="+encodeURI(this.href)+"&type="+F});W[x.cp+"_stats"]="1"}for(var X=W.firstChild;X!=null;X=X.nextSibling){h(X)}}var U=function(W){s={};b=false;if(!B&&!p){return}z();if(W){K=setTimeout(function(){A()},W)}else{A()}};var z=function(){clearTimeout(S);clearTimeout(I);clearTimeout(K)};function A(){k();B="";e.style.display=c.style.display="none";loading=0;x.onhide(T)}function i(){c.innerHTML="\u597d\u53cb\u540d\u7247\u52a0\u8f7d\u4e2d..."}function u(){c=baidu.dom.create("DIV",{id:x.cp});c.style.position="absolute";document.body.appendChild(c);c.onmouseout=J;c.onmouseover=aa;baidu.on(c,"mousedown",j);e=baidu.dom.create("IFRAME");baidu.addClass(e,x.cp+"sd");c.style.display=e.style.display="none";e.style.position="absolute";e.style.borderWidth="0px";c.parentNode.insertBefore(e,c)}function D(){clearTimeout(S);d()}function v(){return !!c}return{set:f,show:L,hide:U,getDiv:function(){return c}}})();if(typeof window.ucard_BdLoadJs!="function"){ucard_BdLoadJs=BdAjax.loadJS}if(typeof window.startBaiduHi!="function"){var jsUrl="http://hi.baidu.com/ui/scripts/baiduhi/check_baiduhi.js?v=1.3";ucard_BdLoadJs(jsUrl)}if(typeof window.PSP_relogin!="function"){PSP_relogin=function(){if(0==arguments[0]){window.location.reload()}}}if(!window.BdDialog){BdDialog={Iframe:function(e,g,b,i){var a=b||350;var f=i||100;var d=g||"提示";var c=new Popup({contentType:1,isReloadOnClose:false,width:a,height:f});c.setContent("title",d);c.setContent("contentUrl",e);c.build();c.show();return c},Alert:function(i,e,b,f){var a=b||350;var d=f||100;var c=e||"提示";var g=new Popup({contentType:4,isReloadOnClose:false,width:a,height:d});g.setContent("title",c);g.setContent("alertCon",i||"&nbsp");g.build();g.show();return g},Confirm:function(c,a,f,k,i,e){var b=i||350;var j=e||100;var d=k||"提示";var g=new Popup({contentType:3,isReloadOnClose:false,width:b,height:j});g.setContent("title",d);g.setContent("confirmCon",f||"&nbsp");g.setContent("callBack",c);g.setContent("parameter",a);g.build();g.show();return g},ShowText:function(i,e,b,f){var a=b||350;var d=f||100;var c=e||"提示";var g=new Popup({contentType:2,isReloadOnClose:false,width:a,height:d});g.setContent("title",c);g.setContent("contentHtml",i||"&nbsp");g.build();g.show();return g}}}if(typeof window.relogin!="function"){relogin=function(){mp_pop=BdDialog.Iframe("https://passport.baidu.com/?login&psp_tt=2&tpl=sp&fu="+escape("http://hi.baidu.com/st/loginok.html")+"&u="+escape(window.location),"登录到百度空间",400,310)}}if(typeof window.ucard_mp_af!="function"){var FRD_MSG={"0":"请求已发出，耐心等待对方确认吧~","-1":"请求已发出，耐心等待对方确认吧~","1":"请输入您要添加的好友！","4":"您的好友数目已达到上限！<br />如要添加，请先删除好友列表中的好友。","11":"今天您添加的好友数已经达到上限，请明日再添加!","12":"今天您删除的好友数已经达到上限，请明日再删除!","9":"好友不存在！有可能你已经删除了该好友。","17":"抱歉！由于对方的某些权限设置，您目前无法加Ta为好友。","102":"添加好友失败，请稍后再试"};function ucard_addFrdCallback(b){var a=parseInt(b.code);var c=FRD_MSG[a]||(b.msg&&decodeURIComponent(b.msg))||"抱歉！添加失败，请重新操作。";switch(a){case 0:case -1:setTimeout(function(){location.reload(true)},600);break;case 1:relogin();return}if(mp_pop!=null){mp_pop.close()}mp_pop=BdDialog.ShowText('<div style="font-size:14px;padding-left:20px;padding-top:25px;text-align:center;">'+c+"</div>","添加好友",350,100);setTimeout(function(){mp_pop.close()},1500)}ucard_mp_af=function(e){if(Session.visitorName==""){relogin();return}var b={};b.word=e;b.callback="top.ucard_addFrdCallback";b.isnotice=1;var a,d;if(Space&&Space.msgConfig&&Space.msgConfig.spToken){a=Space.msgConfig.spToken}if(Session&&Session.spToken){d=Session.spToken}b.bdstoken=a||d;b.from="commonadd_ucard";b.proxy="http://hi.baidu.com/static/html/proxy.html";var c=new Space.Pubs.AddFriend(b);c.addNow();return false}}var mp_pop=null;var baidu=baidu||{};baidu._sp_extend=function(d,a,c){if(c){baidu._sp_extend(d,c)}if(d&&a&&typeof(a)=="object"){for(var b in a){d[b]=a[b]}}return d};baidu.space=baidu.space||{};baidu.space.UI=baidu.space.UI||{};baidu._sp_extend(baidu.space.UI,{resizeIEImg:function(b,a,c){if(b.width>a||b.height>c){if(b.width>b.height){b.width=a}else{b.height=c}}b=null}});baidu.space.helper=baidu.space.helper||{};baidu._sp_extend(baidu.space.helper,(function(){var n=(function(){var q=109;var r=901;return function(s,t){var v="nslog__"+(new Date()).getTime();var u=window[v]=new Image();u.onload=(u.onerror=function(){window[v]=null});u.src="http://nsclick.baidu.com/v.gif?pid="+q+"&url="+encodeURIComponent(t)+"&type="+r+"&m="+s+"&_t="+Math.random();u=null}})();var l=[];var p=[];function m(r,q){l[r]=null;switch(q){case i:c(r);break;case d:e(r);break}}var i=0;var d=1;function g(q){f(q,i)}function o(q){f(q,d)}function f(r,q){if(l[r]){clearTimeout(l[r]);l[r]=null}else{l[r]=setTimeout(function(){m(r,q)},25)}}var h="ucard_scale_img";function k(q){g(q.src);q=null}function j(q){o(q.src);q=null}function b(q){G(h).style.display="";G(h).src=q}function a(q){G(h).style.display="none"}var c=b;var e=a;return{stat:n,scaleShow:k,scaleHide:j}})());baidu.space.mycard=(function(){var g={width:318,height:185,id:"tangram_ucard"};var b=[];var l="";var o=false;function n(p){l=p.portrait}function c(q){var p=baidu.Q("ucard",baidu.G(q),"a");var t=l;for(var r=0;r<p.length;r++){var s=p[r];if(s.getAttribute("pid")!=""&&t!=s.getAttribute("pid")){s.onmouseover=function(u){baidu.ui.ucard.show(this,u||window.event,this.getAttribute("pid"),{aData:baidu.space.mycard.render,onloading:baidu.space.mycard.onloading,onafterloading:baidu.space.mycard.onafterloading,onhide:baidu.space.mycard.onhide,delay:{show:300,loading:300,hide:300}})};s=null}}}function d(p){if(p){G(g.id).style.width="auto";G(g.id).style.height="auto"}else{G(g.id).style.width=g.width+"px";G(g.id).style.height=g.height+"px"}}function f(){d(true)}function k(){d(false)}function m(){}function a(q){var p="http://frd.baidu.com/friend.getfnum?portrait="+q+"&callback=baidu.space.mycard.showFnum&t="+Math.random();ucard_BdLoadJs(p)}function h(p){if(p.fnum>0){baidu.G("tangram_ucard_fnum").style.display="";baidu.G("tangram_ucard_fnum_span").innerHTML=p.fnum;baidu.G("tangram_ucard_fnum_span").parentNode.setAttribute("title","已有"+p.fnum+"人加Ta为好友");BdUtil.ns_tracker(G("tangram_ucard_fnum"),"m_20091029_divfnumClick")}}function j(r){var v='<div class="tangram_ucard_l"><div class="tangram_ucard_lt"><table class="tangram_ucard_img" cellspacing="0"><tr><td><a href="http://hi.baidu.com/sys/checkuser/'+r.uname+'/3" onmousedown="baidu.space.helper.stat(\'ucard_id\',this.href)" target="_blank"><img '+((baidu.browser.ie)?' onload="baidu.space.UI.resizeIEImg(this,80,80);"':"")+' src="http://tx.bdimg.com/sys/portrait/item/'+r.uid+'.jpg" alt="avastar" title="" /></a></td></tr></table><div class="tangram_ucard_uid"><a href="http://hi.baidu.com/sys/checkuser/'+r.uname+'/3" title="'+r.uname+'" onmousedown="baidu.space.helper.stat(\'ucard_id\',this.href)" target="_blank">'+r.uname+"</a></div></div>";if(r.relation==0||r.relation==2||r.relation==4){v=v+'<div class="tangram_ucard_lb"><a href="#" hidefocus="true" onclick="baidu.space.mycard.addFrd(\''+r.uname+"');return false;\"  onmousedown=\"baidu.space.helper.stat('ucard_addfrd','ucard')\"><img src=\"http://img.baidu.com/hi/img/ucard/addfrd.gif\" border=0/></a></div>"}v+='<div id="tangram_ucard_fnum" style="display:none; padding:5px;"><img src="http://img.baidu.com/hi/img/frd/icon_followernum.png" border="0" align="absmiddle" /> <a href="http://hi.baidu.com/sys/checkuser/'+r.uname+'/friends#%25B9%25D8%25D7%25A2%25CE%25D2%25B5%25C4%25C8%25CB" target="_blank" style="color:#ff0000"><span id="tangram_ucard_fnum_span"></span></a></div>';v=v+'</div><div class="tangram_ucard_r"><div class="tangram_ucard_rt">';var q=r.addr;if(q!=""){var u=q.indexOf(",");if(u>0){q=q.substring(0,u)}}v=v+'<p class="clearfix tangram_ucard_attr">';if(r.sex!="未知"){v=v+"<strong>"+r.sex+"</strong>"}if(r.age!=""){v=v+"<strong>"+r.age+"岁</strong>"}if(q!=""){v=v+'<strong class="tangram_ucard_addr" title="'+r.address+'">'+q+"</strong>"}v=v+('<a target="_blank" class="sp-msg-ico" href="http://msg.baidu.com/ms?ct=21&cm=1&tn=bmSendMessage&un='+r.uname+'" title="发送消息" onmousedown="baidu.space.helper.stat(\'ucard_ico_msg\',this.href)"><img align="absmiddle" src="http://img.baidu.com/hi/img/ico_sendmsg.gif" border="0"></a>');v=v+('<a target="_blank" class="itb-link-ico" href="http://tieba.baidu.com/i/sys/jump?un='+r.uname+'" title="访问i贴吧" onmousedown="baidu.space.helper.stat(\'ucard_ico_itieba\',this.href)"><img align="absmiddle" src="http://img.baidu.com/hi/img/ucard/ico_itb.gif" border="0"></a>');v=v+'<a style="" id="im-status-icon-container2" target="_blank" href="#" title="百度hi在线, 点此与他即时交谈" pid="'+r.uname+'"></a>';v=v+"</p>";v+='<p class="tangram_ucard_datanum">';if(r.blog!=0||r.photo!=0||r.frd!=0){if(r.blog!=0){v=v+'<a href="http://hi.baidu.com/sys/checkuser/'+r.uname+'/blog" target="_blank" onmousedown="baidu.space.helper.stat(\'ucard_num_blog\',this.href)">文章：<em>'+r.blog+"</em></a>"}if(r.photo!="0"){v=v+'<a href="http://hi.baidu.com/sys/checkuser/'+r.uname+'/album" target="_blank" onmousedown="baidu.space.helper.stat(\'ucard_num_photo\',this.href)">照片：<em>'+r.photo+"</em></a>"}if(r.frd!=0){v=v+'<a href="http://hi.baidu.com/sys/checkuser/'+r.uname+'/friends" target="_blank" onmousedown="baidu.space.helper.stat(\'ucard_num_friend\',this.href)">好友：<em>'+r.frd+"</em></a>"}}v=v+"</p>";v=v+'</div><div class="tangram_ucard_rb"><div class="tangram_ucard_scount">';if(!r.haveSpace){v=v+'<div class="tangram_ucard_new"><p><br/>这个家伙还没有自己的百度空间呢</p></div>'}else{if(r.newblog.length==0&&r.newphoto.length==0&&r.eventList.length==0){v=v+'<div class="tangram_ucard_new"><p><br/>这个家伙还没有公开的文章和照片</p></div>'}else{function s(){return'<div class="tangram_ucard_new"><a target="_blank" href="'+r.latestBlog.h+'" title="'+r.latestBlog.t+'" onmousedown="baidu.space.helper.stat(\'ucard_new_blog\',this.href)">'+r.latestBlog.t+'</a><p style="margin:5px 0 0; white-space:normal;line-height:16px;"><a target="_blank" href="'+r.latestBlog.h+'" title="'+r.latestBlog.t+'" onmousedown="baidu.space.helper.stat(\'ucard_new_blog\',this.href)">'+r.latestBlog.c+"</a></p></div>"}function t(x){var y="";var w=r.eventList.length;if(w>0){x=Math.min(x||3,w);y+='<div class="tangram_ucard_new"><span>最新动态：</span><br/>';for(var z=0,w=x;z<w;z++){y=y+("<nobr><em>"+r.eventList[z].d+"</em>"+r.eventList[z].sub+'<a  href="'+r.eventList[z].h+'" title="'+r.eventList[z].lt+'" target="_blank">'+r.eventList[z].t+"</a></nobr><br />")}y=y+"</div>"}return y}function p(){var w=r.newphoto.length;var y="";if(w>0){y+='<div class="tangram_ucard_newc">';for(var x=0;x<w;x++){y=y+'<a target="_blank" href="'+r.newphoto[x].h+'" onmousedown="baidu.space.helper.stat(\'ucard_new_photo\',this.href)"><img onmouseover="baidu.space.helper.scaleShow(this)" onmouseout="baidu.space.helper.scaleHide(this)" height="28" width="28" border=0 src="'+r.newphoto[x].u+'"/></a>'}y=y+'<span style="position:relative;zoom:1;_height:1%;line-height:0;font-size:0;"><img id="ucard_scale_img" onload="baidu.space.UI.resizeIEImg(this,80,80)" alt="" style="display:none;position:absolute;left:0;bottom:0" /></span></div>'}return y}if(r.newblog.length>0&&r.newphoto.length>0){v+=(s()+p())}else{if(r.newblog.length==0){v+=(t(3)+p())}else{if(r.newphoto.length==0){v+=(s()+t(2))}else{v+=t(3)}}}}}v=v+"</div></div></div>";e(r.uid);a(r.uid);baidu.space.helper.stat("ucard_pv",r.sex+",|"+r.age+",|"+r.address+",|"+r.blog+",|"+r.photo+",|"+r.frd+",|"+r.newblog.length+",|"+r.newphoto.length);return v}function e(p){var q="http://pdc.baidu.com/imstate/?callback=baidu.space.mycard.CBIMST&type=json&uids="+p+"&.tmp="+Math.random();ucard_BdLoadJs(q)}function i(t){var r="";for(var s in t){r=s;break}var p=t[r];if(!p){return false}var q=G("im-status-icon-container2"),u=(p.online=="1"||p.space_online=="1")?"on":"off";im_status_icon_tip=(p.online=="1"||p.space_online=="1")?"百度hi在线, 点此与TA即时交谈":"点此通过百度hi给TA发送离线消息";if(p.imuser=="1"){q.style.display="";q.title=im_status_icon_tip;var v=q.getAttribute("pid");q.onclick=function(){startBaiduHi("message","",v,{clk:"icon",src:"space"});return false};q.onmousedown=function(){baidu.space.helper.stat("ucard_im_talk","ucard")};q.innerHTML="<img align='absmiddle' src='http://img.baidu.com/hi/img/baiduhi/"+(u=="on"?"hi_online.gif":"hi_offline.gif")+"' border='0'>"}else{}}return{init:n,bind:c,render:j,onloading:f,onafterloading:k,onhide:m,addFrd:ucard_mp_af,showFnum:h,CBIMST:i}})();SP.mycard.onSourceLoaded();